!function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(n=r.key,o=void 0,"symbol"==typeof(o=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(n,"string"))?o:String(o)),r)}var n,o}function i(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[93],{93:function(e,r,n){n.r(r),n.d(r,{InventoryModule:function(){return P}});var o,a=n(8583),s=n(4655),c=n(3018),u=((o=function(){function e(){t(this,e)}return i(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(t){return new(t||o)},o.\u0275cmp=c.Xpm({type:o,selectors:[["app-create-edit-product"]],decls:2,vars:0,template:function(t,e){1&t&&(c.TgZ(0,"p"),c._uU(1,"create-edit-product works!"),c.qZA())},styles:[""]}),o),p=n(4736),d=n(3462),g=n(9790),l=n(1352),f=n(2238),h=n(2019),Z=n(2018),v=n(3679),y=n(3886),b=n(2557);function m(t,e){if(1&t){var i=c.EpF();c.TgZ(0,"div",10),c.TgZ(1,"div",11),c.TgZ(2,"div",12),c.TgZ(3,"div",13),c.TgZ(4,"label"),c._uU(5),c.ALo(6,"translate"),c.ALo(7,"translate"),c.qZA(),c.TgZ(8,"div",14),c.TgZ(9,"input",15),c.NdJ("keyup",function(t){return c.CHM(i),c.oxw().filterproducts(t,"searchTerm")})("ngModelChange",function(t){return c.CHM(i),c.oxw().nameSearchTerm=t}),c.ALo(10,"translate"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&t){var r=c.oxw();c.xp6(5),c.AsE("",c.lcZ(6,4,"tr_name"),"/",c.lcZ(7,6,"tr_code"),""),c.xp6(4),c.s9C("placeholder",c.lcZ(10,8,"tr_search")),c.Q6J("ngModel",r.nameSearchTerm)}}function A(t,e){if(1&t){var i=c.EpF();c.TgZ(0,"tr"),c.TgZ(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.TgZ(5,"td"),c._uU(6),c.qZA(),c.TgZ(7,"td"),c._uU(8),c.qZA(),c.TgZ(9,"td"),c._uU(10),c.qZA(),c.TgZ(11,"td"),c._uU(12),c.qZA(),c.TgZ(13,"td"),c.TgZ(14,"span",24),c._UZ(15,"i",25),c.TgZ(16,"div",26),c.TgZ(17,"div",27),c.NdJ("click",function(){var t=c.CHM(i).$implicit;return c.oxw(3).createOrEditproduct(!0,t)}),c._uU(18),c.ALo(19,"translate"),c.qZA(),c._UZ(20,"div",28),c.TgZ(21,"div",27),c.NdJ("click",function(){var t=c.CHM(i).$implicit;return c.oxw(3).deleteProduct(t._id)}),c.TgZ(22,"div",29),c._uU(23),c.ALo(24,"translate"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&t){var r=e.$implicit,n=e.index;c.xp6(2),c.hij(" ",n+1,""),c.xp6(2),c.Oqu(r.name),c.xp6(2),c.Oqu(null==r.branch?null:r.branch.name),c.xp6(2),c.Oqu(r.code),c.xp6(2),c.Oqu(r.stock),c.xp6(2),c.Oqu(r.price),c.xp6(6),c.hij(" ",c.lcZ(19,8,"tr_action.edit")," "),c.xp6(5),c.hij(" ",c.lcZ(24,10,"tr_action.delete")," ")}}function T(t,e){if(1&t&&(c.TgZ(0,"div",21),c.TgZ(1,"table",22),c.TgZ(2,"thead"),c.TgZ(3,"tr"),c._UZ(4,"th"),c.TgZ(5,"th"),c._uU(6,"Product Name"),c.qZA(),c.TgZ(7,"th"),c._uU(8,"Branch"),c.qZA(),c.TgZ(9,"th"),c._uU(10,"Code"),c.qZA(),c.TgZ(11,"th"),c._uU(12,"Stock"),c.qZA(),c.TgZ(13,"th"),c._uU(14,"price"),c.qZA(),c._UZ(15,"th"),c.qZA(),c.qZA(),c.TgZ(16,"tbody"),c.YNc(17,A,25,12,"tr",23),c.qZA(),c.qZA(),c.qZA()),2&t){var i=c.oxw(2);c.xp6(17),c.Q6J("ngForOf",i.productsList)}}function q(t,e){1&t&&(c.TgZ(0,"div",30),c._UZ(1,"i",31),c.TgZ(2,"p"),c._uU(3),c.ALo(4,"translate"),c.qZA(),c.qZA()),2&t&&(c.xp6(3),c.Oqu(c.lcZ(4,1,"tr_empty_state")))}function _(t,e){if(1&t){var i=c.EpF();c.TgZ(0,"div",16),c.YNc(1,T,18,1,"div",17),c.YNc(2,q,5,3,"div",18),c.TgZ(3,"div",19),c.TgZ(4,"pagination",20),c.NdJ("paginationUpdate",function(t){return c.CHM(i),c.oxw().paginationUpdate(t)}),c.qZA(),c.qZA(),c.qZA()}if(2&t){var r=c.oxw();c.xp6(1),c.Q6J("ngIf",r.productsList.length>0),c.xp6(1),c.Q6J("ngIf",0==r.productsList.length),c.xp6(2),c.Q6J("paginationData",r.paginationData)("perPage",r.paginationPerPage)}}function x(t,e){1&t&&(c.TgZ(0,"div"),c._UZ(1,"app-ghost-line",32),c.qZA()),2&t&&(c.xp6(1),c.Q6J("length",12)("type","table"))}var w=[{path:"",component:function(){var e=function(){function e(i,r,n,o,a,s){t(this,e),this.productsService=i,this.appNotificationService=r,this.translateService=n,this.globals=o,this.dialog=a,this.CategoriesServce=s,this.productsLoading=!0,this.isFilterOpen=!0,this.paginationPerPage=10,this.categorys=[],this.productsList=[],this.categorysLoading=!1,this.fullscreenEnabled=!1,this.isNotAuthorized=!1,this.iscategoryNotAuthorized=!1,this.currentOrder={name:"",category:""},this.params={page:1,perPage:this.paginationPerPage},this.categorysParams={page:1,per_page:10},this.subscriptions=[]}return i(e,[{key:"ngOnInit",value:function(){this.getproducts(),this.getcategorys()}},{key:"getproducts",value:function(){var t=this;this.productsLoading=!0,this.subscriptions.push(this.productsService.getProducts(this.params).subscribe(function(e){t.productsList=e.products,t.paginationData=e.meta,t.productsLoading=!1},function(e){403==e.status?(t.isNotAuthorized=!0,t.productsLoading=!1):t.appNotificationService.push(t.translateService.instant("tr_unexpected_error_message"),"error")}))}},{key:"getcategorys",value:function(){var t=this;this.categorysLoading=!0,this.subscriptions.push(this.CategoriesServce.getCategorys(this.categorysParams).subscribe(function(e){t.categorysPagination=e.meta,t.categorys=t.categorys.concat(e.categories),t.categorysLoading=!1},function(e){403==e.status&&(t.iscategoryNotAuthorized=!0,t.categorysLoading=!1)}))}},{key:"nextBatch",value:function(){this.categorysPagination.nextPage&&(this.categorysLoading=!0,this.categorysParams.page=this.categorysPagination.nextPage,this.getcategorys())}},{key:"filterproducts",value:function(t,e){var i=this;clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){t="by_category_id"==e?t:t.target.value.trim(),i.params.search=t,i.params.page=1,i.getproducts()},500)}},{key:"paginationUpdate",value:function(t){this.params.page=t,this.getproducts()}},{key:"createOrEditproduct",value:function(t,e){var i=this;this.dialog.open(u,{width:"850px",data:{isEdit:t,product:e,productId:null==e?void 0:e._id},disableClose:!0}).afterClosed().subscribe(function(t){t&&i.getproducts()})}},{key:"deleteProduct",value:function(t){var e=this;this.productsService.deleteProduct(t).subscribe(function(){e.params.page=1,e.getproducts()})}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(t){return t&&t.unsubscribe()})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(p.T),c.Y36(d.o),c.Y36(g.sK),c.Y36(l.O),c.Y36(f.uw),c.Y36(h.Y))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-inventory-list"]],decls:15,vars:10,consts:[["not-authorized","",1,"content-shadow","bg-white","mb-5",3,"notAuthorized"],[1,"size-body","title-with-btn","plr-4","ptb-4"],[1,"page-title"],[1,"btn-group"],[1,"s-btn","btn-primary",3,"click"],[1,"s-btn","btn-secondary","size-body",3,"click"],["aria-hidden","false",1,"fa","fa-filter","text-primary"],["class","filters-card bg-secondary plr-4 ptb-2 mb-7",4,"ngIf"],["class","plr-4 mt-4",4,"ngIf"],[4,"ngIf"],[1,"filters-card","bg-secondary","plr-4","ptb-2","mb-7"],[1,"row"],[1,"col-md-3"],[1,"form-group","mb-0"],[1,"input-with-icon","bg-white","width-100"],[1,"s-control",3,"placeholder","ngModel","keyup","ngModelChange"],[1,"plr-4","mt-4"],["class","table-container products-list","id","table-container",4,"ngIf"],["class","empty-state-here text-center ptb-8",4,"ngIf"],[1,"plr-4","ptb-4"],[3,"paginationData","perPage","paginationUpdate"],["id","table-container",1,"table-container","products-list"],[1,"s-table","table","layout-fixed","products-list"],[4,"ngFor","ngForOf"],[1,"options-menu"],["aria-hidden","true",1,"fa","fa-ellipsis-v"],[1,"options-menu-container","p-0"],[1,"single-option",3,"click"],[1,"border-bottom"],[1,"text-error"],[1,"empty-state-here","text-center","ptb-8"],[1,"fa","fa-folder-open","empty-icon","text-primary"],[3,"length","type"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"h2",1),c.TgZ(2,"span",2),c._uU(3),c.ALo(4,"translate"),c.qZA(),c.TgZ(5,"div",3),c.TgZ(6,"button",4),c.NdJ("click",function(){return e.createOrEditproduct(!1)}),c._uU(7),c.ALo(8,"translate"),c.qZA(),c.TgZ(9,"button",5),c.NdJ("click",function(){return e.isFilterOpen=!e.isFilterOpen}),c._UZ(10,"i",6),c.qZA(),c.qZA(),c.qZA(),c.YNc(11,m,11,10,"div",7),c.TgZ(12,"div"),c.YNc(13,_,5,4,"div",8),c.YNc(14,x,2,2,"div",9),c.qZA(),c.qZA()),2&t&&(c.Q6J("notAuthorized",e.isNotAuthorized),c.xp6(3),c.Oqu(c.lcZ(4,6,"tr_inventory")),c.xp6(4),c.hij(" ",c.lcZ(8,8,"tr_add_product")," "),c.xp6(4),c.Q6J("ngIf",e.isFilterOpen),c.xp6(2),c.Q6J("ngIf",!e.productsLoading),c.xp6(1),c.Q6J("ngIf",e.productsLoading))},directives:[Z.Z,a.O5,v.Fj,v.JJ,v.On,y.t,a.sg,b.A],pipes:[g.X$],styles:[""]}),e}()}],U=function(){var e=i(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[s.Bz.forChild(w)],s.Bz]}),e}(),k=n(4685),P=function(){var e=i(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[a.ez,U,k.m]]}),e}()}}])}();